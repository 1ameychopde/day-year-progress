<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Time & Weight Progress Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="manifest.json">

<style>
body{
  font-family:Arial, sans-serif;
  background:#020617;
  color:#e5e7eb;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  margin:0;
}
.card{
  width:100%;
  max-width:440px;
  border:1px solid #1e293b;
  padding:20px;
  border-radius:14px;
  box-shadow:0 20px 40px rgba(0,0,0,.5);
}
h1{text-align:center;font-size:22px;margin-bottom:6px}
.date{text-align:center;font-size:14px;color:#94a3b8;margin-bottom:10px}
.section{margin-top:14px}
.label{font-size:14px}
.percentage{font-size:18px;font-weight:bold;color:#38bdf8;margin-bottom:4px}
.bar{background:#1e293b;border-radius:8px;overflow:hidden;height:10px}
.fill{height:100%;background:linear-gradient(90deg,#38bdf8,#22c55e);width:0%;transition:.4s}
.countdown{text-align:center;font-size:16px;font-weight:bold;color:#facc15;margin-top:12px}
.btn{
  width:100%;margin-top:8px;padding:10px;border:none;
  border-radius:8px;background:#22c55e;color:#020617;
  font-weight:bold;cursor:pointer
}
canvas{width:100%;margin-top:10px}
.footer{text-align:center;font-size:12px;color:#64748b;margin-top:12px}
</style>
</head>

<body>
<div class="card">
<h1>‚è± Time & Weight Progress</h1>
<div class="date" id="date"></div>

<!-- TIME -->
<div class="section">
  <div class="label">Day Progress</div>
  <div class="percentage" id="dayPercent"></div>
  <div class="bar"><div class="fill" id="dayBar"></div></div>
</div>

<div class="section">
  <div class="label">Week Progress</div>
  <div class="percentage" id="weekPercent"></div>
  <div class="bar"><div class="fill" id="weekBar"></div></div>
</div>

<div class="section">
  <div class="label">Month Progress</div>
  <div class="percentage" id="monthPercent"></div>
  <div class="bar"><div class="fill" id="monthBar"></div></div>
</div>

<div class="section">
  <div class="label">Year Progress</div>
  <div class="percentage" id="yearPercent"></div>
  <div class="bar"><div class="fill" id="yearBar"></div></div>
</div>

<div class="countdown" id="countdown"></div>

<!-- WEIGHT -->
<div class="section">
  <div class="label">‚öñÔ∏è Weight Gain Progress</div>
  <div class="percentage" id="weightPercent"></div>
  <div class="bar"><div class="fill" id="weightBar"></div></div>
  <button class="btn" onclick="updateWeight()">Update Today‚Äôs Weight</button>
</div>

<!-- GRAPH -->
<div class="section">
  <div class="label">üìà Weight History</div>
  <canvas id="chart" height="160"></canvas>
</div>

<div class="footer">Saved locally ¬∑ Offline supported</div>
</div>

<script>
/* ---------- TIME ---------- */
function updateTime(){
  const now=new Date();
  document.getElementById("date").innerText=now.toDateString();

  const seconds=now.getHours()*3600+now.getMinutes()*60+now.getSeconds();
  const day=seconds/86400*100;

  const ws=new Date(now);ws.setDate(now.getDate()-now.getDay());ws.setHours(0,0,0,0);
  const week=(now-ws)/(7*86400000)*100;

  const ms=new Date(now.getFullYear(),now.getMonth(),1);
  const me=new Date(now.getFullYear(),now.getMonth()+1,1);
  const month=(now-ms)/(me-ms)*100;

  const ys=new Date(now.getFullYear(),0,1);
  const ye=new Date(now.getFullYear()+1,0,1);
  const year=(now-ys)/(ye-ys)*100;

  const mid=new Date(now);mid.setHours(24,0,0,0);
  const d=mid-now;
  document.getElementById("countdown").innerText=
    `‚è≥ ${Math.floor
